<!-- History of task employee has done -->
  <div class="row" ng-controller ="TaskHistoryController">
    <div class="panel panel-primary" style="margin-top:22px">
        <div class="panel-heading">Task History</div>
        <div class="panel-body">
          <div class="row">
           <div class ="col col-sm-3">           
        	<div class="panel panel-default">
        		<div class="panel-heading">Search History</div>
        		<div class="panel-body">
        		
	        	   <div>
	        	   	<label>From</label>
			      	<datetimepicker ng-model="history.start" date-format="MMM. dd, yyyy" date-options="dateOptions"  show-spinners="true"></datetimepicker>
				   
		      	  </div>
		      	   <div>
	        	   	<label>To</label>
			      	<datetimepicker ng-model="history.end" date-format="MMM. dd, yyyy" date-options="dateOptions" show-spinners="true"></datetimepicker>
				   
		      	  </div>
        		</div>
        		<div class="modal-footer">
        			<button class="btn btn-default" ng-click=searchItem()><i class="fa fa-search fa-fw" ></i> Search</button>
        		</div>
        	  </div>
            </div>
            
            <div class="col col-lg-9" > 
              <div class="panel panel-default">
              	<div class="panel-heading">Search Results</div>
              	<div class="panel-body">
              	  <table class="table table-striped table-bordered table-hover">
		            <thead>
		              <th>Employee</th>
		              <th>Task</th>
		              <th>Start</th>
		              <th>End</th>
		              <th>Duration</th>
		            </thead>
		            <tbody>
		              <tr ng-repeat="item in filteredList">
		              	 <td>{{item.employee}}</td>
		                 <td>{{item.task}}</td>
		                 <td>{{item.start | date:'MMM dd, yyyy h:mm:ss a'}}</td>
		                 <td>{{item.end | date:'MMM dd, yyyy h:mm:ss a'}}</td>
		                 <td>{{(item.end - item.start) | durationToTime : item.end}}</td>
		              </tr>
		            </tbody>
		          </table>
		          <div uib-pagination
		               total-items="totalItems"
		               ng-model="currentPage"
		               max-size="maxSize"
		               boundary-links="true"
		               items-per-page ="numPerPage"
		               ng-change = "pageChanged()"
		               ng-if ="totalItems > 0"
		               >
	         	 </div>
              	</div>
              	<div class="modal-footer" ng-if="canDownload()">
        			<button class="btn btn-default" ng-click=download()><i class="fa fa-download fa-fw"></i> download report</button>
        		</div>
              </div>     
	 
		  </div>
		  
          </div>
          
      </div>
    </div>
    
    
     <!-- New Task Modal -->
  <div class="modal fade" id="add-task" role="dialog">
     <div class="modal-dialog">

         <!-- Modal content-->
         <div class="modal-content">
             <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal">&times;</button>
                 <h4 class="modal-title">Task Details</h4>
             </div>
             <div class="modal-body">

               <form  ng-submit="addTask()">              	
                  <div class="form-group">		  
                       <div class ="_custom-label">Task</div>
					 	 <select ng-model="selectedTask" ng-options ="task.taskName for task in taskList" class="form-dropdown  _custom-control" required>
					 	 </select>
					  	 
                   </div>
                 <div class="modal-footer">
                     <input type="submit" class="btn btn-default" value ="Start" />
                     <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                 </div>
               </form>

           </div>
         </div>

     </div>
   </div> 
   
  <!-- Success Modal -->
  <div class="modal fade" id="successModal" role="dialog" style ="margin-top:200px;">
    <div class="modal-dialog modal-md">
         <div class="alert alert-success" style=" text-align:center; height:116px;">
           	<div class="close" data-dismiss="modal" aria-label="close">&times;</div>
				<div style ="position:relative;top:30px;"><strong>{{success_message}}</strong></div>
	 </div>
    </div>
  </div>
   
  </div>
